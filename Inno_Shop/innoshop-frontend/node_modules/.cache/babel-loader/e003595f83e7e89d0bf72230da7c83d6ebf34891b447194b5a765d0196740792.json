{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport { TOKEN_KEY, USER_KEY } from \"./constants\";\nexport const saveToken = token => {\n  localStorage.setItem(TOKEN_KEY, token);\n};\nexport const getToken = () => {\n  return localStorage.getItem(TOKEN_KEY);\n};\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY);\n};\nexport const isTokenExpired = token => {\n  if (!token) return true;\n  try {\n    const decoded = jwtDecode(token);\n    const currentTime = Date.now() / 1000;\n    return decoded.exp < currentTime;\n  } catch (error) {\n    return true;\n  }\n};\nexport const getTokenData = token => {\n  if (!token) return null;\n  try {\n    return jwtDecode(token);\n  } catch (error) {\n    return null;\n  }\n};\nexport const saveUser = user => {\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n};\nexport const getUser = () => {\n  const user = localStorage.getItem(USER_KEY);\n  return user ? JSON.parse(user) : null;\n};\nexport const removeUser = () => {\n  localStorage.removeItem(USER_KEY);\n};\nexport const formatPrice = price => {\n  return new Intl.NumberFormat(\"ru-RU\", {\n    style: \"currency\",\n    currency: \"RUB\"\n  }).format(price);\n};\nexport const formatDate = date => {\n  return new Intl.DateTimeFormat(\"ru-RU\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\"\n  }).format(new Date(date));\n};\nexport const formatShortDate = date => {\n  return new Intl.DateTimeFormat(\"ru-RU\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\"\n  }).format(new Date(date));\n};\nexport const truncateText = (text, maxLength = 100) => {\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength) + \"...\";\n};\nexport const capitalizeFirst = str => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\nexport const getQueryParams = search => {\n  return new URLSearchParams(search);\n};\nexport const buildQueryString = params => {\n  const query = new URLSearchParams();\n  Object.keys(params).forEach(key => {\n    if (params[key] !== null && params[key] !== undefined && params[key] !== \"\") {\n      query.append(key, params[key]);\n    }\n  });\n  return query.toString();\n};\nexport const getErrorMessage = error => {\n  if (error.response) {\n    var _error$response$data, _error$response$data2;\n    return ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.title) || \"An error occurred\";\n  }\n  if (error.request) {\n    return \"Unable to connect to the server\";\n  }\n  return error.message || \"Unknown error occurred\";\n};\nexport const isValidEmail = email => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\nexport const isValidPassword = password => {\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/;\n  return passwordRegex.test(password);\n};","map":{"version":3,"names":["jwtDecode","TOKEN_KEY","USER_KEY","saveToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","isTokenExpired","decoded","currentTime","Date","now","exp","error","getTokenData","saveUser","user","JSON","stringify","getUser","parse","removeUser","formatPrice","price","Intl","NumberFormat","style","currency","format","formatDate","date","DateTimeFormat","year","month","day","hour","minute","formatShortDate","truncateText","text","maxLength","length","substring","capitalizeFirst","str","charAt","toUpperCase","slice","getQueryParams","search","URLSearchParams","buildQueryString","params","query","Object","keys","forEach","key","undefined","append","toString","getErrorMessage","response","_error$response$data","_error$response$data2","data","message","title","request","isValidEmail","email","emailRegex","test","isValidPassword","password","passwordRegex"],"sources":["/home/artem/Code/InnoShop/Inno_Shop/innoshop-frontend/src/utils/helpers.js"],"sourcesContent":["import { jwtDecode } from \"jwt-decode\";\nimport { TOKEN_KEY, USER_KEY } from \"./constants\";\n\nexport const saveToken = (token) => {\n  localStorage.setItem(TOKEN_KEY, token);\n};\n\nexport const getToken = () => {\n  return localStorage.getItem(TOKEN_KEY);\n};\n\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY);\n};\n\nexport const isTokenExpired = (token) => {\n  if (!token) return true;\n\n  try {\n    const decoded = jwtDecode(token);\n    const currentTime = Date.now() / 1000;\n    return decoded.exp < currentTime;\n  } catch (error) {\n    return true;\n  }\n};\n\nexport const getTokenData = (token) => {\n  if (!token) return null;\n\n  try {\n    return jwtDecode(token);\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const saveUser = (user) => {\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n};\n\nexport const getUser = () => {\n  const user = localStorage.getItem(USER_KEY);\n  return user ? JSON.parse(user) : null;\n};\n\nexport const removeUser = () => {\n  localStorage.removeItem(USER_KEY);\n};\n\nexport const formatPrice = (price) => {\n  return new Intl.NumberFormat(\"ru-RU\", {\n    style: \"currency\",\n    currency: \"RUB\",\n  }).format(price);\n};\n\nexport const formatDate = (date) => {\n  return new Intl.DateTimeFormat(\"ru-RU\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  }).format(new Date(date));\n};\n\nexport const formatShortDate = (date) => {\n  return new Intl.DateTimeFormat(\"ru-RU\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  }).format(new Date(date));\n};\n\nexport const truncateText = (text, maxLength = 100) => {\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength) + \"...\";\n};\n\nexport const capitalizeFirst = (str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\nexport const getQueryParams = (search) => {\n  return new URLSearchParams(search);\n};\n\nexport const buildQueryString = (params) => {\n  const query = new URLSearchParams();\n\n  Object.keys(params).forEach((key) => {\n    if (\n      params[key] !== null &&\n      params[key] !== undefined &&\n      params[key] !== \"\"\n    ) {\n      query.append(key, params[key]);\n    }\n  });\n\n  return query.toString();\n};\n\nexport const getErrorMessage = (error) => {\n  if (error.response) {\n    return (\n      error.response.data?.message ||\n      error.response.data?.title ||\n      \"An error occurred\"\n    );\n  }\n\n  if (error.request) {\n    return \"Unable to connect to the server\";\n  }\n\n  return error.message || \"Unknown error occurred\";\n};\n\nexport const isValidEmail = (email) => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n\nexport const isValidPassword = (password) => {\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/;\n  return passwordRegex.test(password);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}